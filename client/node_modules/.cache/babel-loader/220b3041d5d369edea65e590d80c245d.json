{"ast":null,"code":"import _slicedToArray from \"/Users/diarbegisbayev/Desktop/Back-end/event-helper/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/diarbegisbayev/Desktop/Back-end/event-helper/client/src/pages/ListOfGuestsPage/ListOfGuestsPage.jsx\";\n\nimport React, { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport Footer from \"../../components/Footer/Footer\";\nimport GuestCard from \"../../components/GuestCard/GuestCard\";\nimport { generateKey } from \"../../components/Helpers/generateKeyFunction\";\nimport useFetchGuestsList from \"../../components/Hooks/useFetchGuestsList\";\nimport Navbar from \"../../components/Navbar/Navbar\";\nimport \"./listOfGuestsPage.css\";\n\nvar ListOfGuestsPage = function ListOfGuestsPage() {\n  var _useParams = useParams(),\n      id = _useParams.id;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      searchValue = _useState2[0],\n      setSearchValue = _useState2[1];\n\n  var guestsList = useFetchGuestsList(id);\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      filteredList = _useState4[0],\n      setFilteredList = _useState4[1];\n\n  var createNewGuestURL = \"/create-guest/\".concat(id);\n  useEffect(function () {\n    if (searchValue == \"\") {\n      setFilteredList(function () {\n        return guestsList;\n      });\n    }\n  }, [guestsList, filteredList]);\n\n  function handleSearchInput(e) {\n    setSearchValue(function () {\n      return e.target.value;\n    });\n    setFilteredList(filteredList.filter(function (guest) {\n      if (searchValue == null) return guest;\n      return guest.guestName.toLowerCase().includes(searchValue.toLowerCase()) || guest.guestSeat.includes(searchValue);\n    }));\n  }\n\n  console.log(\"AD\");\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"guestList\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"guestList-content\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"guestList-title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, \"List of guests\"), /*#__PURE__*/React.createElement(Link, {\n    to: createNewGuestURL,\n    className: \"guestList-add\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, \"Add new\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"guestList-search\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Enter name or seat\",\n    value: searchValue,\n    onChange: handleSearchInput,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"guestList-list\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, filteredList ? filteredList.map(function (guest) {\n    return /*#__PURE__*/React.createElement(GuestCard, {\n      info: guest,\n      key: generateKey(guest.guestName),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }\n    });\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(Footer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default ListOfGuestsPage;","map":{"version":3,"sources":["/Users/diarbegisbayev/Desktop/Back-end/event-helper/client/src/pages/ListOfGuestsPage/ListOfGuestsPage.jsx"],"names":["React","useEffect","useState","Link","useParams","Footer","GuestCard","generateKey","useFetchGuestsList","Navbar","ListOfGuestsPage","id","searchValue","setSearchValue","guestsList","filteredList","setFilteredList","createNewGuestURL","handleSearchInput","e","target","value","filter","guest","guestName","toLowerCase","includes","guestSeat","console","log","map"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport Footer from \"../../components/Footer/Footer\";\nimport GuestCard from \"../../components/GuestCard/GuestCard\";\nimport { generateKey } from \"../../components/Helpers/generateKeyFunction\";\nimport useFetchGuestsList from \"../../components/Hooks/useFetchGuestsList\";\nimport Navbar from \"../../components/Navbar/Navbar\";\nimport \"./listOfGuestsPage.css\";\n\nconst ListOfGuestsPage = () => {\n  const { id } = useParams();\n  const [searchValue, setSearchValue] = useState(\"\");\n  const guestsList = useFetchGuestsList(id);\n  const [filteredList, setFilteredList] = useState();\n  const createNewGuestURL = `/create-guest/${id}`;\n\n  useEffect(() => {\n    if (searchValue == \"\") {\n      setFilteredList(() => guestsList);\n    }\n  }, [guestsList, filteredList]);\n\n  function handleSearchInput(e) {\n    setSearchValue(() => e.target.value);\n\n    setFilteredList(\n      filteredList.filter(guest => {\n        if (searchValue == null) return guest;\n        return (\n          guest.guestName.toLowerCase().includes(searchValue.toLowerCase()) ||\n          guest.guestSeat.includes(searchValue)\n        );\n      })\n    );\n  }\n\n  console.log(\"AD\");\n\n  return (\n    <div className=\"guestList\">\n      <Navbar />\n      <div className=\"guestList-content\">\n        <div className=\"guestList-title\">List of guests</div>\n        <Link to={createNewGuestURL} className=\"guestList-add\">\n          Add new\n        </Link>\n\n        <div className=\"guestList-search\">\n          <input\n            type=\"text\"\n            placeholder=\"Enter name or seat\"\n            value={searchValue}\n            onChange={handleSearchInput}\n          />\n        </div>\n\n        <div className=\"guestList-list\">\n          {filteredList\n            ? filteredList.map(guest => (\n                <GuestCard info={guest} key={generateKey(guest.guestName)} />\n              ))\n            : <div></div>}\n        </div>\n      </div>\n      <Footer />\n    </div>\n  );\n};\n\nexport default ListOfGuestsPage;\n"]},"metadata":{},"sourceType":"module"}