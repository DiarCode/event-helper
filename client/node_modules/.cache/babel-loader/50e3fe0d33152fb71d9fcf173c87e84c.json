{"ast":null,"code":"import _slicedToArray from \"/Users/diarbegisbayev/Desktop/Back-end/event-helper/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/diarbegisbayev/Desktop/Back-end/event-helper/client/src/pages/ListOfGuestsPage/ListOfGuestsPage.jsx\";\n\nimport React, { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport Footer from \"../../components/Footer/Footer\";\nimport GuestCard from \"../../components/GuestCard/GuestCard\";\nimport { generateKey } from \"../../components/Helpers/generateKeyFunction\";\nimport useFetchGuestsList from \"../../components/Hooks/useFetchGuestsList\";\nimport Navbar from \"../../components/Navbar/Navbar\";\nimport \"./listOfGuestsPage.css\";\n\nvar ListOfGuestsPage = function ListOfGuestsPage() {\n  var _useParams = useParams(),\n      id = _useParams.id;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      searchValue = _useState2[0],\n      setSearchValue = _useState2[1];\n\n  var guestsList = useFetchGuestsList(id);\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      filteredList = _useState4[0],\n      setFilteredList = _useState4[1];\n\n  var createNewGuestURL = \"/create-guest/\".concat(id);\n  useEffect(function () {\n    var guestListCopy = guestsList;\n    setFilteredList(function () {\n      return guestsList;\n    });\n  }, [guestsList]);\n\n  function handleSearchInput(e) {\n    setSearchValue(function () {\n      return e.target.value;\n    });\n\n    if (filteredList) {\n      setFilteredList(filteredList.filter(function (guest) {\n        return guest.guestName.includes(searchValue) || guest.guestSeat.includes(searchValue);\n      }));\n    } else {\n      setFilteredList(function () {\n        return guestsList;\n      });\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"guestList\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"guestList-content\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"guestList-title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, \"List of guests\"), /*#__PURE__*/React.createElement(Link, {\n    to: createNewGuestURL,\n    className: \"guestList-add\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, \"Add new\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"guestList-search\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Enter name of guest\",\n    value: searchValue,\n    onChange: handleSearchInput,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"guestList-list\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, filteredList && filteredList.map(function (guest) {\n    return /*#__PURE__*/React.createElement(GuestCard, {\n      info: guest,\n      key: generateKey(guest.guestName),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 15\n      }\n    });\n  }))), /*#__PURE__*/React.createElement(Footer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default ListOfGuestsPage;","map":{"version":3,"sources":["/Users/diarbegisbayev/Desktop/Back-end/event-helper/client/src/pages/ListOfGuestsPage/ListOfGuestsPage.jsx"],"names":["React","useEffect","useState","Link","useParams","Footer","GuestCard","generateKey","useFetchGuestsList","Navbar","ListOfGuestsPage","id","searchValue","setSearchValue","guestsList","filteredList","setFilteredList","createNewGuestURL","guestListCopy","handleSearchInput","e","target","value","filter","guest","guestName","includes","guestSeat","map"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport Footer from \"../../components/Footer/Footer\";\nimport GuestCard from \"../../components/GuestCard/GuestCard\";\nimport { generateKey } from \"../../components/Helpers/generateKeyFunction\";\nimport useFetchGuestsList from \"../../components/Hooks/useFetchGuestsList\";\nimport Navbar from \"../../components/Navbar/Navbar\";\nimport \"./listOfGuestsPage.css\";\n\nconst ListOfGuestsPage = () => {\n  const { id } = useParams();\n  const [searchValue, setSearchValue] = useState(\"\");\n  const guestsList = useFetchGuestsList(id);\n  const [filteredList, setFilteredList] = useState();\n  const createNewGuestURL = `/create-guest/${id}`;\n\n  useEffect(() => {\n    const guestListCopy = guestsList\n    setFilteredList(() => guestsList);\n  }, [guestsList]);\n\n  function handleSearchInput(e) {\n    setSearchValue(() => e.target.value);\n\n    if (filteredList) {\n      setFilteredList(\n        filteredList.filter(guest => {\n          return (\n            guest.guestName.includes(searchValue) ||\n            guest.guestSeat.includes(searchValue)\n          );\n        })\n      );\n    } else {\n      setFilteredList(() => guestsList);\n    }\n  }\n\n  return (\n    <div className=\"guestList\">\n      <Navbar />\n      <div className=\"guestList-content\">\n        <div className=\"guestList-title\">List of guests</div>\n        <Link to={createNewGuestURL} className=\"guestList-add\">\n          Add new\n        </Link>\n\n        <div className=\"guestList-search\">\n          <input\n            type=\"text\"\n            placeholder=\"Enter name of guest\"\n            value={searchValue}\n            onChange={handleSearchInput}\n          />\n        </div>\n\n        <div className=\"guestList-list\">\n          {filteredList &&\n            filteredList.map(guest => (\n              <GuestCard info={guest} key={generateKey(guest.guestName)} />\n            ))}\n        </div>\n      </div>\n      <Footer />\n    </div>\n  );\n};\n\nexport default ListOfGuestsPage;\n"]},"metadata":{},"sourceType":"module"}